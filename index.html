<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>retro skull demo</title>
<meta name="color-scheme" content="dark" />
<style>
  :root {
    --fg: #fff;         /* default white-on-black */
    --bg: #000;
    --glow: rgba(255,255,255,0.18);
  }
  /* green terminal theme via ?theme=green */
  body.theme-green { --fg:#00ff66; --glow: rgba(0,255,102,0.22); }

  html,body{height:100%;margin:0;background:#000;color:var(--fg);
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono","Courier New", monospace;
    letter-spacing:.4px; overflow:hidden;}
  .crt{position:relative;height:100%;display:grid;place-items:center;text-shadow:0 0 8px var(--glow),0 0 22px var(--glow);}
  .crt::before{content:"";position:absolute;inset:0;
    background:repeating-linear-gradient(0deg,transparent 0px,transparent 2px,rgba(255,255,255,0.06) 3px,transparent 4px);
    mix-blend-mode:screen;pointer-events:none;opacity:.25}
  .wrap{width:min(900px,96vw);height:min(640px,92vh);padding:14px 18px;border:1px solid rgba(255,255,255,.15);
    box-shadow:inset 0 0 40px rgba(255,255,255,.06),0 0 60px rgba(255,255,255,.08);display:grid;grid-template-rows:auto 1fr auto;gap:8px;background:rgba(0,0,0,.55)}
  .row{font-size:12px;opacity:.9;display:flex;justify-content:space-between;white-space:nowrap}
  .term{overflow:hidden;display:grid;place-items:center}
  pre{margin:0;white-space:pre;text-align:center;line-height:1.05;font-size:clamp(10px,2.2vw,18px)}
  .blink{animation:blink 1s steps(1,end) infinite}
  @keyframes blink{50%{opacity:0}}
  a.btn{border:1px solid var(--fg); padding:6px 10px; color:var(--fg); text-decoration:none; margin-left:6px}
  .hidden{display:none}
</style>
</head>
<body>
  <div class="crt">
    <div class="wrap">
      <div class="row"><div>BOOT&gt; /dev/tty0 | mode: SAFE DEMO</div><div id="status">initializing<span class="blink">_</span></div></div>
      <div class="term"><pre id="art">loading<span class="blink">_</span></pre></div>
      <div class="row">
        <div>© <span id="yr"></span> <span id="credit">@your_name</span></div>
        <div><span>tap to replay</span> <a id="share" class="btn hidden" href="#">share</a></div>
      </div>
    </div>
  </div>

<script>
/* ---- options ---- */
const FRAME_MS = 140;         // speed per frame
const LAUGHS = 14;            // how many open/close cycles
const HOLD_END_MS = 1600;     // hold end screen
const DEFAULT_USERNAME = "@your_name";

/* ---- theming via URL ---- */
const qs = new URLSearchParams(location.search);
const theme = (qs.get("theme")||"").toLowerCase();
if (theme === "green") document.body.classList.add("theme-green");

/* ---- credit via ?u= ---- */
const credit = document.getElementById("credit");
const user = qs.get("u");
credit.textContent = user ? (user.startsWith("@")? user : "@"+user) : DEFAULT_USERNAME;
document.getElementById("yr").textContent = new Date().getFullYear();

/* ---- frames (your skull) ----
   0 = background (black), 1 = skull (foreground color) */

const frameClosed = String.raw`
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000001111111100000000000000000000000000
000000000000000000000000111111111111000000000000000000000000
000000000000000000000011111111111111110000000000000000000000
000000000000000000001111111111111111111100000000000000000000
000000000000000000011111111111111111111110000000000000000000
000001111000111100111111111111111111111111111110001111100000
000001111001111100111111111111111111111111111110001111100000
000001111001111101111111111111111111111111111111001111100000
000001111001111100011111111111111111111110001111110111100000
000000111001111110011111111111111111111110011111110111000000
000000011001111111011111111111111111111110111111110110000000
000000000000001111011111111111111111111110111100000000000000
000000000000000011011111111111111111111110110000000000000000
000000000000000001011111111111111111111110100000000000000000
000000000000000000011000111111111111000110000000000000000000
000000000000000000010000011111111110000010000000000000000000
000000000000000000010000001111111100000010000000000000000000
000000000000000000010000000011110000000010000000000000000000
000000000000000000110000000011110000000011000000000000000000
000000000000000000111100001111111100001111000000000000000000
000000000000000000111111111110011111111111000000000000000000
000000000000000000011111111100001111111110000000000000000000
000000000000000000001001111000000111100100000000000000000000
000000000000000000001100111000000111001100000000000000000000
000000000000000000001100011101101110001100000000000000000000
000000000000000000000100101111111101001000000000000000000000
000000000000000000110100100000000001001011000000000000000000
000000000000000001110110101010010101011011100000000000000000
000000000000000011110110001010010100011011110000000000000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000
000000011001111111100110100000000001011001111111110110000000
000000111001111111000011001010010100110000111111110111000000
000001111001111110000001101010010101100000011111110111100000
000001111001111100000000110101101011000000001111110111100000
000000111001111100000000000000000000000000001111110111000000
000000011001111110000000000000000000000000011111110110000000
000000000000011111100000000000000000000000111111100000000000
000000000000001111111110000000000000011111111110000000000000
000000000000000001111111111111111111111111100000000000000000
000000000000000000011111111111111111111110000000000000000000
000000000000000000000111111111111111111000000000000000000000
000000001001100000000000000000000000000000000001110100000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000010000`;

const frameOpen = String.raw`
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000001111111100000000000000000000000000
000000000000000000000000111111111111000000000000000000000000
000000000000000000000011111111111111110000000000000000000000
000000000000000000001111111111111111111100000000000000000000
000000000000000000011111111111111111111110000000000000000000
000001111000111100111111111111111111111111111110001111100000
000001111001111100111111111111111111111111111110001111100000
000001111001111101111111111111111111111111111111001111100000
000001111001111100011111111111111111111110001111110111100000
000000111001111110011111111111111111111110011111110111000000
000000011001111111011111111111111111111110111111110110000000
000000000000001111011111111111111111111110111100000000000000
000000000000000011011111111111111111111110110000000000000000
000000000000000001011111111111111111111110100000000000000000
000000000000000000011000111111111111000110000000000000000000
000000000000000000010000011111111110000010000000000000000000
000000000000000000010000001111111100000010000000000000000000
000000000000000000010000000011110000000010000000000000000000
000000000000000000110000000011110000000011000000000000000000
000000000000000000111100001111111100001111000000000000000000
000000000000000000111111111110011111111111000000000000000000
000000000000000000011111111100001111111110000000000000000000
000000000000000000001001111000000111100100000000000000000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000100101111111101001000000000000000000000
000000000000000000110100100000000001001011000000000000000000
000000000000000001110110101010010101011011100000000000000000
000000000000000011110110001010010100011011110000000000000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000
000000111001111111000011001010010100110000111111110111000000
000001111001111110000001101010010101100000011111110111100000
000001111001111100000000110101101011000000001111110111100000
000000111001111100000000000000000000000000001111110111000000
000000011001111110000000000000000000000000011111110110000000
000000000000011111100000000000000000000000111111100000000000
000000000000001111111110000000000000011111111110000000000000
000000000000000001111111111111111111111111100000000000000000
000000000000000000011111111111111111111110000000000000000000
000000000000000000000111111111111111111000000000000000000000
000000001001100000000000000000000000000000000001110100000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000010000`;

/* ---- simple boot/status + animation ---- */
const art = document.getElementById("art");
const status = document.getElementById("status");
const shareBtn = document.getElementById("share");

const bootLines = [
  "loading kernel modules … ok",
  "spawning process: skull.bin … ok",
  "establishing link … ok",
  "rendering payload … ok"
];

function typeLines(lines, i=0){
  return new Promise(res=>{
    if(i>=lines.length) return res();
    status.textContent = lines[i];
    setTimeout(()=>res(typeLines(lines, i+1)), 220);
  });
}

function animateLaughs(){
  return new Promise(res=>{
    let n=0, open=false;
    const t=setInterval(()=>{
      art.textContent = open ? frameOpen : frameClosed;
      open=!open; n++;
      if(n>=LAUGHS){ clearInterval(t); res(); }
    }, FRAME_MS);
  });
}

function endScreen(){
  status.innerHTML = 'status: <b style="color:var(--fg)">SAFE DEMO</b>';
  art.textContent = frameClosed + "\n\n>> TRANSMISSION COMPLETE <<\nCREDITS: " + credit.textContent + "\n tap to replay ▷";
  shareBtn.classList.remove("hidden");
  if(navigator.share){
    shareBtn.onclick=()=>navigator.share({title:"retro skull",text:"Check this retro skull demo",url:location.href}).catch(()=>{});
  }else{
    shareBtn.href = location.href;
  }
}

async function run(){
  art.textContent="booting<span class='blink'>_</span>";
  await typeLines(bootLines);
  await animateLaughs();
  setTimeout(endScreen, HOLD_END_MS);
}
run();
addEventListener("click", run);
addEventListener("keydown", e=>{ if(e.key===" "||e.key==="Enter") run();});
</script>
</body>
</html>
